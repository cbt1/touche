/*! Touché - v1.1.4 - 2018-08-09
* https://github.com/stoffeastrom/touche/
* Copyright (c) 2018 Christoffer Åström, Andrée Hansson; Licensed MIT */

!function(t){"use strict";Function.prototype.augment=function(t){var e=this.prototype,i=Object.create(e),n=t.call(i,this,e);return"function"!=typeof n&&(n=function(){}),(i.constructor=n).prototype=i,n}}(),function(){"use strict";var o;(o=window.Touche=function(t){if(void 0===t)throw new Error("No element sent into Touche()");if(!(this instanceof o))return new o(t);this.elem=t,this.gestureHandler=o.cache.get(t)}).prototype.on=function(t,e){return o.prototype[t].call(this,e),this},o.prototype.off=function(e,i){return this.gestureHandler.gestures.filter(function(t){return e&&"*"!==e&&i?t.type===e&&t.id===i:e&&"*"===e&&i?t.id===i:!e||t.type===e}).forEach(function(t){t.off(this.elem),this.gestureHandler.removeGesture(t)},this),0===this.gestureHandler.gestures.length&&o.cache.remove(this.elem),this},o._handlers=[],o._gestures={},o.gestures={add:function(n,s){o._gestures[n]=s,o.prototype[n]=function(t){var e,i=new o.Binder(t);return e=new s(this.gestureHandler,n,i),this.gestureHandler.addGesture(e),e.on(this.elem),this}},get:function(t){return o._gestures[t]},remove:function(i){o._gestures[i]&&(o.cache.data.forEach(function(e){e.context.gestures.filter(function(t){return t.type===i}).forEach(function(t){e.context.removeGesture(t)})}),delete o.prototype[i],delete o._gestures[i])}},o.WebkitHack=function(){var e=!1,t={handleEvent:function(t){t.defaultPrevented||e&&t.preventDefault()}};o.WebkitHack.prevent=function(){o.utils.touch&&(e=!0)},o.WebkitHack.resetPrevent=function(){o.utils.touch&&(e=!1)},window.addEventListener("touchmove",t,{passive:!1,capture:!1})},o.WebkitHack()}(),function(o,r,a){"use strict";var t=9,e=window.MSPointerEvent&&window.navigator.msPointerEnabled||window.PointerEvent&&window.navigator.pointerEnabled;o.utils={noop:function(){},getSortKey:function(){return 5*++t},isSVG:function(t){return 1===t.nodeType&&"http://www.w3.org/2000/svg"===t.namespaceURI},closest:function(t,e){var i=function(t,e){return t.toUpperCase()===e.toUpperCase()},n=t.parentNode;if(!n)return null;if(i(t.tagName,e))return t;if(i(n.tagName,e))return n;for(;n;)if(i((n=n.parentNode).tagName,e))return n;return null},transformPoint:function(t,e){var i,n,s;if(t&&o.utils.isSVG(t)&&(i=o.utils.closest(t,"svg"))){(n=i.createSVGPoint()).x=e.x,n.y=e.y;try{s=t.getScreenCTM().inverse(),n=n.matrixTransform(s)}catch(t){}return new o.Point(n.x,n.y)}return e},getRect:function(t){var e,i=window,n=i.document,s=n.body;return o.utils.isSVG(t)?(e=(t.getBBox||t.getBoundingClientRect).call(t),new o.Rect((e.x||e.left||0)+(i.scrollX||n.documentElement.scrollLeft),(e.y||e.top||0)+(i.scrollY||n.documentElement.scrollTop),e.width,e.height)):(e=(i!==t&&n!==t&&t.getBoundingClientRect?t:s).getBoundingClientRect(),new o.Rect(e.left+(i.scrollX||n.documentElement.scrollLeft),e.top+(i.scrollY||n.documentElement.scrollTop),e.width,e.height))},touch:"ontouchstart"in window,pointerEnabled:e,msPointer:e,getFlowType:function(t){switch(t){case"mousedown":case"mousemove":case"mouseup":return"mouse";case"touchstart":case"touchmove":case"touchend":case"touchcancel":return"touch";case"MSPointerDown":case"MSPointerMove":case"MSPointerUp":case"MSPointerCancel":return"MSPointer";case"pointerdown":case"pointermove":case"pointerup":case"pointercancel":return"pointer";default:throw"Not implemented!"}},getFlowTypes:function(t){switch(t){case"mousedown":return["mouse"];case"touchstart":return["touch"];case"MSPointerDown":return["MSPointer"];case"pointerdown":return["pointer"];default:return["mouse","touch","MSPointer","pointer"]}},getEvent:function(t,e){switch(t){case"update":switch(e){case"mouse":return"mousemove";case"touch":return"touchmove";case"MSPointer":return"MSPointerMove";case"pointer":return"pointermove"}break;case"end":switch(e){case"mouse":return"mouseup";case"touch":return"touchend";case"MSPointer":return"MSPointerUp";case"pointer":return"pointerup"}break;case"cancel":switch(e){case"touch":return"touchcancel";case"MSPointer":return"MSPointerCancel";case"pointer":return"pointercancel"}break;default:throw"Not implemented!"}},getEvents:function(){return this.pointerEnabled?{start:["MSPointerDown","pointerdown"],update:["MSPointerMove","pointermove"],end:["MSPointerUp","pointerup"],cancel:["MSPointerCancel","pointercancel"]}:this.touch?{start:["mousedown","touchstart"],update:["mousemove","touchmove"],end:["mouseup","touchend"],cancel:["touchcancel"]}:{start:["mousedown"],update:["mousemove"],end:["mouseup"],cancel:[]}},logger:function(t,e){if(t.touches){var i="";i+="touches: "+(e=t[e||"touches"]).length,i+=e.map(function(t){return"x:"+t.pageX+", "+t.pageY}).join(" "),window.console.log(i)}},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isArray:function(t){return Array.isArray(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},getAngle:function(t,e){var i=t.x-e.x,n=t.y-e.y,s=180*r(n,i)/a;return s=s<0?360+s:s},getDeltaAngle:function(t,e){var i=e.x-t.x,n=e.y-t.y;return 180*r(n,i)/a},getDirection:function(t){var e="invalid";return 0<=t&&t<45||315<=t&&t<=360?e="right":45<=t&&t<135?e="down":135<=t&&t<225?e="left":225<=t&&t<315&&(e="up"),e},getVelocity:function(t,e,i,n){var s=t.distanceTo(e),o=n-i;return o<=0?0:26.67*s/o},isMouse:function(t){return o.utils.pointerEnabled&&(t.pointerType===t.MSPOINTER_TYPE_MOUSE||"mouse"===t.pointerType)||0<=t.type.indexOf("mouse")}}}(window.Touche,Math.atan2,Math.PI),function(i){"use strict";i.cache={data:[],has:function(e){return this.data.filter(function(t){return t.elem===e})},get:function(t){var e=this.has(t);return 0===e.length?this.data[this.data.push({elem:t,context:new i.GestureHandler(t)})-1].context:e[0].context},remove:function(t){var e,i=this.has(t);i.length&&(e=this.data.indexOf(i[0]),this.data.splice(e,1))}}}(window.Touche),function(i,n){i.FlowHandler=Object.augment(function(){return this.activate=function(){i.utils.getEvents().start.forEach(function(t){this.on(this.element,t)},this)},this.deactivate=function(){i.utils.getEvents().start.forEach(function(t){this.off(this.element,t)},this),this.bindDoc(!1),this.resetFlowTypes(),i.cache.remove(this.element)},this.on=function(t,e){t.addEventListener(e,this,!1)},this.off=function(t,e){t.removeEventListener(e,this,!1)},this.bindDoc=function(e,t){i.utils.getFlowTypes(t).forEach(function(t){[i.utils.getEvent("update",t),i.utils.getEvent("end",t),i.utils.getEvent("cancel",t)].forEach(function(t){t&&this[e?"on":"off"](n,t)},this)},this)},this.handleEvent=function(t){switch(t.type){case"mousedown":case"touchstart":case"MSPointerDown":case"pointerdown":this.onStart(t);break;case"mousemove":case"touchmove":case"MSPointerMove":case"pointermove":this.onUpdate(t);break;case"mouseup":case"touchend":case"MSPointerUp":case"pointerup":this.onEnd(t);break;case"touchcancel":case"MSPointerCancel":case"pointercancel":this.onCancel(t)}},this.onStart=function(){},this.start=function(){},this.onUpdate=function(){},this.update=function(){},this.onEnd=function(){},this.end=function(){},this.onCancel=function(){},this.cancel=function(){},function(t){this.element=t}})}(window.Touche,window.document),function(h){"use strict";var e,s=[];function c(t){s.length=0,clearTimeout(e),t.forEach(function(t){s.push(new h.Point(t.x,t.y))}),e=setTimeout(function(){s.length=0},1500)}h.GestureHandler=h.FlowHandler.augment(function(t,i){return this.reset=function(t){this.gestures.forEach(function(t){t.reset()}),this.data[t]={},this.data[t].points=[],this.data[t].pointerIds=[],this.data[t].pagePoints=[],this.data[t].started=!1,this.data[t].ended=!1,this.data[t].relatedTarget=null},this.trigger=function(e,i,n){this.sortedGestures.map(function(t){return t.context}).forEach(function(t){t.paused&&h.utils.isFunction(t[e])&&!t.cancelled?t.addPausedCallback(e,i,n):h.utils.isFunction(t[e])&&!t.cancelled&&t[e](i,n)},this)},this.play=function(e){e=e||!1,this.sortedGestures.map(function(t){return t.context}).filter(function(t){return t.paused}).forEach(function(t){t.play(e)})},this.pause=function(e,i){this.sortedGestures.map(function(t){return t.context}).filter(function(t){return e?i!==t&&e===t.type:i!==t}).forEach(function(t){t.pause()})},this.addGesture=function(t){this.gestures.push(t),this.sortGestures(),1===this.gestures.length&&this.activate()},this.removeGesture=function(e){this.gestures=this.gestures.filter(function(t){return t!==e}),this.sortGestures(),0===this.gestures.length&&this.deactivate()},this.removeGestures=function(e){this.gestures.filter(function(t){return!e||t.type===e}).forEach(function(t){this.removeGesture(t)},this)},this.cancelGesture=function(t){t.cancelled||(t.cancel(),t.cancelled=!0)},this.cancelGestures=function(e){return this.gestures.filter(function(t){return t.type!==e}).forEach(function(t){this.cancelGesture(t)},this),this},this.cancelAllGestures=function(){this.gestures.forEach(function(t){this.cancelGesture(t)},this),this.resetFlowTypes(!0)},this.sortGestures=function(){this.sortedGestures=this.gestures.map(function(t){return{key:t.sortKey,context:t}}).sort(function(t,e){return t.key-e.key})},this.isOtherFlowStarted=function(t){var e,i=h.utils.getFlowTypes(),n=i.length;for(e=0;e<n;++e)if(t!==i[e]&&this.data[i[e]].started&&!this.data[i[e]].ended)return!0;return!1},this.resetFlowTypes=function(t){t=t||!1;var e,i=h.utils.getFlowTypes(),n=i.length;for(e=0;e<n;++e)this.data[i[e]].started&&this.data[i[e]].ended?this.reset(i[e]):t&&this.reset(i[e])},this.isEmulatedMouseEvents=function(t){if(t.isSimulated)return!1;var e,i=h.utils.getFlowType(t.type),n=new h.Point(t.pageX,t.pageY);return"mouse"===i&&(0!==s.length&&(e=s[0],n.distanceTo(e)<25))},this.onStart=function(t){h._superHandler.addHandler(this,t)},this.start=function(t){var e=h.utils.getFlowType(t.type);this.isOtherFlowStarted(e)||this.isEmulatedMouseEvents(t)||(h.utils.isMouse(t)&&!this.data[e].ended?this.cancelAllGestures():this.resetFlowTypes(),this.data[e].relatedTarget=t.target,this.setPoints(t),this.trigger("start",t,this.data[e]),this.data[e].started=!0)},this.update=function(t){var e=h.utils.getFlowType(t.type);this.isOtherFlowStarted(e)||this.isEmulatedMouseEvents(t)||(this.setPoints(t),this.trigger("update",t,this.data[e]))},this.end=function(t){var e=h.utils.getFlowType(t.type);if(this.data.touch.started&&!this.data.touch.ended&&"mouseup"===t.type)return this.trigger("end",t,this.data.touch),void(this.data.touch.ended=!0);this.isOtherFlowStarted(e)||this.isEmulatedMouseEvents(t)||(this.trigger("end",t,this.data[e]),this.data[e].ended=!0)},this.cancel=function(t){var e=h.utils.getFlowType(t.type);this.trigger("cancel",t,this.data[e]),this.data[e].ended=!0},this.handleEvent=function(t){var e=h.utils.getFlowType(t.type);this.isOtherFlowStarted(e)||this.isEmulatedMouseEvents(t)||i.handleEvent.call(this,t)},this.setPoints=function(t,e){e=e||"touches";var i,n,s,o,r,a=h.utils.getFlowType(t.type);switch(a){case"mouse":this.data[a].points.length=1,this.data[a].pagePoints.length=1,this.data[a].points[0]=h.utils.transformPoint(this.data[a].relatedTarget,new h.Point(t.pageX,t.pageY)),this.data[a].pagePoints[0]=new h.Point(t.pageX,t.pageY);break;case"touch":for(n=(s=t[e]).length,i=0;i<n;++i)this.data[a].points.length=n,this.data[a].pagePoints.length=n,this.data[a].points[i]=h.utils.transformPoint(this.data[a].relatedTarget,new h.Point(s[i].pageX,s[i].pageY)),this.data[a].pagePoints[i]=new h.Point(s[i].pageX,s[i].pageY);c(this.data[a].pagePoints);break;case"MSPointer":case"pointer":o=t.pointerId,(r=this.data[a].pointerIds.indexOf(o))<0&&(r=this.data[a].pointerIds.push(o)-1),n=this.data[a].pointerIds.length,this.data[a].points.length=n,this.data[a].pagePoints.length=n,this.data[a].points[r]=h.utils.transformPoint(this.data[a].relatedTarget,new h.Point(t.pageX,t.pageY)),this.data[a].pagePoints[r]=new h.Point(t.pageX,t.pageY),c(this.data[a].pagePoints);break;default:throw"Not implemented!"}},function(t){this.element=t,this.gestures=[],this.sortedGestures=[],this.data={},h.utils.getFlowTypes().forEach(function(t){this.data[t]={},this.data[t].points=[],this.data[t].pointerIds=[],this.data[t].pagePoints=[],this.data[t].started=!1,this.data[t].ended=!1,this.data[t].relatedTarget=null},this)}})}(window.Touche),function(s,t){s.SuperHandler=s.FlowHandler.augment(function(){return this.addHandler=function(t){-1===this._handlers.indexOf(t)&&this._handlers.push(t)},this.onStart=function(e){this._handlers.forEach(function(t){t.start(e)}),this.bindDoc(!0,e.type)},this.onUpdate=function(e){this._handlers.forEach(function(t){t.update(e)})},this.onEnd=function(e){this.bindDoc(!1,e.type),this._handlers.forEach(function(t){t.end(e)}),this._handlers.length=0,s.WebkitHack.resetPrevent()},this.onCancel=function(e){this.bindDoc(!1,e.type),this._handlers.forEach(function(t){t.cancel(e)}),this._handlers.length=0},this.onDragStart=function(){this._handlers.forEach(function(t){t.cancelAllGestures()})},function(){this._handlers=[],s.FlowHandler.apply(this,arguments)}}),s._superHandler=new s.SuperHandler(t),s._superHandler.activate(),document.addEventListener("dragstart",function(t){s._superHandler.onDragStart(t)},!1),s.preventGestures=function(t){var e,i,n=s._superHandler._handlers;for(e=n.length-1;0<=e&&(i=n[e])!==t;--e)i.cancelAllGestures(),n.splice(e,1)}}(window.Touche,window.document),function(o){"use strict";o.Gesture=Object.augment(function(){return this.on=o.utils.noop,this.off=o.utils.noop,this.start=o.utils.noop,this.update=o.utils.noop,this.end=o.utils.noop,this.cancel=function(){this.cancelled=!0},this.pause=function(){this.paused=!0},this.addPausedCallback=function(t,e,i){this.pausedCallbacks.push({action:t,event:e,data:i})},this.play=function(t){t&&!this.cancelled?this.pausedCallbacks.forEach(function(t){this[t.action](t.event,t.data)},this):this.gestureHandler.cancelGesture(this),this.paused=!1,this.pausedCallbacks=[],this.reset()},this.setOptions=function(){Object.keys(this.defaults).forEach(function(t){this.options[t]=this.binder.options&&void 0!==this.binder.options[t]?this.binder.options[t]:this.defaults[t]},this)},this.hasMoreTouches=function(t){return this.countTouches=t.length>this.countTouches?t.length:this.countTouches,0<this.countTouches&&this.countTouches>this.options.touches},this.hasNotEqualTouches=function(t){return this.hasMoreTouches(t),this.countTouches!==this.options.touches},this.hasEqualTouches=function(t){return this.countTouches=t.length,this.countTouches===this.options.touches},this.isValidMouseButton=function(t,e){if(!o.utils.isMouse(t))return!0;var i,n=t.button,s=t.which;return i=s||void 0===n?s:1&n?1:2&n?3:4&n?2:0,o.utils.isArray(e)?e.some(function(t){return i===t}):i===e},this.reset=function(){this.paused||(this.started=!1,this.cancelled=!1,this.countTouches=0)},function(t,e,i){this.gestureHandler=t,this.type=e,this.binder=i,this.started=!1,this.cancelled=!1,this.pausedCallbacks=[],this.paused=!1,this.countTouches=0,this.options={},this.setOptions(),this.sortKey=this.options.precedence||o.utils.getSortKey(),this.id=this.binder.id}})}(window.Touche),function(t){"use strict";t.Binder=Object.augment(function(){return this.start=t.utils.noop,this.update=t.utils.noop,this.end=t.utils.noop,this.cancel=t.utils.noop,this.bind=function(e){Object.keys(e||{}).forEach(function(t){this[t]=e[t]},this)},function(t){this.bind(t)}})}(window.Touche),function(n,s){"use strict";n.Point=function(t,e){this.x=t,this.y=e},n.Point.prototype.distanceTo=function(t){var e=this.x-t.x,i=this.y-t.y;return s(e*e+i*i)},n.Point.prototype.normalize=function(){var t=s(this.x*this.x+this.y*this.y),e=this.x/t,i=this.y/t;return new n.Point(e,i)}}(window.Touche,Math.sqrt),function(t){"use strict";t.Rect=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},t.Rect.prototype.pointInside=function(t,e){e=e||0;var i=this.x-e,n=this.y-e,s=this.x+this.width+e,o=this.y+this.height+e;return t.x>=i&&t.x<=s&&t.y>=n&&t.y<=o}}(window.Touche),function(){for(var s=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-s)),n=window.setTimeout(function(){t(e+i)},i);return s=e+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(n){"use strict";var t=n.Gesture.augment(function(t){return this.defaults={areaThreshold:5,timeThreshold:400,touches:1,precedence:4,preventDefault:!0,which:1},this.on=function(t){this.count=0,n(t).on("tap",{options:{areaThreshold:this.options.areaThreshold,preventDefault:this.options.preventDefault,touches:this.options.touches,which:this.options.which},id:this.id,end:this.end})},this.off=function(t){n(t).off("tap",this.id)},this.end=function(t,e){if(this.isValidMouseButton(t,this.options.which)){var i=this;++i.count,1===i.count?(i.startTime=+new Date,i.gestureHandler.pause(null,this),i.timerId=setTimeout(function(){i.gestureHandler.play(!0),i.count=0},i.options.timeThreshold+5)):2===i.count&&(window.clearTimeout(i.timerId),i.endTime=+new Date,i.startTime+i.options.timeThreshold>=i.endTime&&(i.gestureHandler.play(),i.binder.end.call(i,t,e)),i.count=0),this.options.preventDefault&&(t.preventDefault(),n.WebkitHack.prevent())}else this.cancel()},this.cancel=function(){this.cancelled=!0,window.clearTimeout(this.timerId)},function(){t.apply(this,arguments)}});n.gestures.add("doubletap",t)}(window.Touche),function(s){"use strict";var t=s.Gesture.augment(function(t){return this.defaults={radiusThreshold:12,timeThreshold:800,precedence:5,preventDefault:!0,touches:1,interval:25,which:1},this.preventDefaultForMSPointer=function(e){if(s.utils.pointerEnabled){var i=window.document,n=function(t){t.preventDefault()};["MSHoldVisual","MSGestureHold","contextmenu"].forEach(function(t){i[e?"addEventListener":"removeEventListener"](t,n,!1)})}},this.pause=function(){this.paused=!0,window.clearTimeout(this.timerId)},this.start=function(t,e){if(this.isValidMouseButton(t,this.options.which)&&!this.hasMoreTouches(e.pagePoints)){this.rect=s.utils.getRect(this.gestureHandler.element),this.count=0,this.intervalSteps=this.options.timeThreshold/this.options.interval,this.startTime=+new Date,this.startPoint=e.pagePoints[0];var i=this;window.clearTimeout(i.timerId),i.timerId=window.setInterval(function(){++i.count,e.percentage=i.count/i.intervalSteps*100,1===i.count?(i.started=!0,i.binder.start.call(i,t,e)):i.binder.update.call(i,t,e),i.count>=i.intervalSteps&&window.clearTimeout(i.timerId)},this.options.interval),this.options.preventDefault&&(t.preventDefault(),s.WebkitHack.prevent(),this.preventDefaultForMSPointer(!0))}else this.cancel()},this.update=function(t,e){(this.hasMoreTouches(e.pagePoints)||this.startPoint.distanceTo(e.pagePoints[0])>this.options.radiusThreshold)&&this.cancel(),this.options.preventDefault&&(t.preventDefault(),s.WebkitHack.prevent())},this.end=function(t,e){window.clearTimeout(this.timerId),this.hasNotEqualTouches(e.pagePoints)?this.cancel():(this.startPoint.distanceTo(e.pagePoints[0])<=this.options.radiusThreshold&&this.startTime+this.options.timeThreshold<=+new Date?(this.gestureHandler.cancelGestures(this.type),this.binder.end.call(this,t,e)):this.cancel(),this.options.preventDefault&&(t.preventDefault(),s.WebkitHack.prevent(),this.preventDefaultForMSPointer(!1)))},this.cancel=function(){window.clearTimeout(this.timerId),this.cancelled||(this.cancelled=!0,this.started&&this.binder.cancel.call(this),this.options.preventDefault&&this.preventDefaultForMSPointer(!1))},function(){t.apply(this,arguments)}});s.gestures.add("longtap",t)}(window.Touche),function(i,n){"use strict";var t=i.Gesture.augment(function(t){return this.defaults={touches:2,pinchThreshold:12,preventDefault:!0},this.start=function(t,e){this.rect=i.utils.getRect(this.gestureHandler.element),this.pinch={start:{},current:{}},this.hasMoreTouches(e.pagePoints)?this.cancel():(this.pinch.start.point1=e.pagePoints[0],this.pinch.start.point2=e.pagePoints[1],this.options.preventDefault&&(t.preventDefault(),i.WebkitHack.prevent()))},this.update=function(t,e){this.hasMoreTouches(e.pagePoints)?this.cancel():(this.hasEqualTouches(e.pagePoints)&&(this.pinch.start.point2?(e.centerPoint||(e.centerPoint=new i.Point((this.pinch.start.point1.x+this.pinch.start.point2.x)/2,(this.pinch.start.point1.y+this.pinch.start.point2.y)/2)),this.pinch.current.point1=e.pagePoints[0],this.pinch.current.point2=e.pagePoints[1],this.startDistance=this.pinch.start.point2.distanceTo(this.pinch.start.point1),this.lastDistance=this.currentDistance,this.currentDistance=this.pinch.current.point2.distanceTo(this.pinch.current.point1),this.pinchLength=n(this.startDistance-this.currentDistance),this.scale=this.currentDistance/this.startDistance,e.scale=this.scale,e.delta=this.currentDistance-this.lastDistance,e.centerPoint.x=(this.pinch.current.point1.x+this.pinch.current.point2.x)/2,e.centerPoint.y=(this.pinch.current.point1.y+this.pinch.current.point2.y)/2,!this.started&&this.pinchLength>=this.options.pinchThreshold?(this.started=!0,this.gestureHandler.cancelGestures(this.type),this.binder.start.call(this,t,e)):this.started&&this.binder.update.call(this,t,e)):this.pinch.start.point2=e.pagePoints[1]),this.options.preventDefault&&(t.preventDefault(),i.WebkitHack.prevent()))},this.end=function(t,e){this.started&&this.binder.end.call(this,t,e),this.options.preventDefault&&(t.preventDefault(),i.WebkitHack.prevent())},this.cancel=function(){this.cancelled||(this.cancelled=!0,this.started&&this.binder.cancel.call(this.bindingObj))},function(){t.apply(this,arguments)}});i.gestures.add("pinch",t)}(window.Touche,Math.abs),function(i){"use strict";var t=i.Gesture.augment(function(t){return this.defaults={touches:2,rotationThreshold:12,preventDefault:!0},this.start=function(t,e){this.rect=i.utils.getRect(this.gestureHandler.element),this.rotate={start:{},current:{}},this.hasMoreTouches(e.pagePoints)?this.cancel():(this.rotate.start.point1=e.pagePoints[0],this.rotate.start.point2=e.pagePoints[1],this.options.preventDefault&&(t.preventDefault(),i.WebkitHack.prevent()))},this.update=function(t,e){this.hasMoreTouches(e.pagePoints)?this.cancel():(this.hasEqualTouches(e.pagePoints)&&(this.rotate.start.point2?(this.rotate.current.point1=e.pagePoints[0],this.rotate.current.point2=e.pagePoints[1],this.startAngle=i.utils.getDeltaAngle(this.rotate.start.point2,this.rotate.start.point1),this.currentAngle=i.utils.getDeltaAngle(this.rotate.current.point2,this.rotate.current.point1),this.rotation=this.currentAngle-this.startAngle,e.rotation=this.rotation,!this.started&&Math.abs(this.rotation)>=this.options.rotationThreshold?(this.started=!0,this.gestureHandler.cancelGestures(this.type),this.binder.start.call(this,t,e)):this.started&&this.binder.update.call(this,t,e)):this.rotate.start.point2=e.pagePoints[1]),this.options.preventDefault&&(t.preventDefault(),i.WebkitHack.prevent()))},this.end=function(t,e){this.started&&this.binder.end.call(this,t,e),this.options.preventDefault&&(t.preventDefault(),i.WebkitHack.prevent())},this.cancel=function(){this.cancelled||(this.cancelled=!0,this.started&&this.bindingObj.cancel.call(this.bindingObj))},function(){t.apply(this,arguments)}});i.gestures.add("rotate",t)}(window.Touche),function(h,e){"use strict";var t=h.Gesture.augment(function(t){return this.rAFId=-1,this.defaults={radiusThreshold:12,precedence:25,preventDefault:!0,touches:1,which:1,useMomentum:!1,inertia:.89},this.setSwipe=function(t){this.swipe.lastTime=this.swipe.currentTime,this.swipe.lastPoint=this.swipe.currentPoint,this.swipe.currentPoint=t,this.swipe.currentTime=+new Date,this.swipe.deltaX=this.swipe.currentPoint.x-this.swipe.startPoint.x,this.swipe.deltaY=this.swipe.currentPoint.y-this.swipe.startPoint.y,this.swipe.curDeltaX=this.swipe.currentPoint.x-this.swipe.lastPoint.x,this.swipe.curDeltaY=this.swipe.currentPoint.y-this.swipe.lastPoint.y,this.swipe.velocity=h.utils.getVelocity(this.swipe.startPoint,this.swipe.currentPoint,this.swipe.startTime,this.swipe.currentTime),this.swipe.momentum=h.utils.getVelocity(this.swipe.lastPoint,this.swipe.currentPoint,this.swipe.lastTime,this.swipe.currentTime),this.swipe.angle=h.utils.getAngle(this.swipe.startPoint,this.swipe.currentPoint),this.swipe.direction=h.utils.getDirection(this.swipe.angle),this.swipe.elementDistance="left"===this.swipe.direction||"right"===this.swipe.direction?this.rect.width:this.rect.height,this.swipe.distance="left"===this.swipe.direction||"right"===this.swipe.direction?e(this.swipe.deltaX):e(this.swipe.deltaY),this.swipe.percentage=this.swipe.distance/this.swipe.elementDistance*100},this.start=function(t,e){-1!==this.rAFId&&(this.binder.end.call(this,t,e),window.cancelAnimationFrame(this.rAFId),this.rAFId=-1,h.preventGestures(this.gestureHandler),this.gestureHandler.cancelAllGestures(this)),this.rect=h.utils.getRect(this.gestureHandler.element),this.swipe={inEndMomentum:!1},this.countTouches=0,this.isValidMouseButton(t,this.options.which)&&!this.hasMoreTouches(e.pagePoints)?(this.swipe.startPoint=this.swipe.currentPoint=e.pagePoints[0],this.swipe.startTime=this.swipe.currentTime=+new Date,this.options.preventDefault&&(t.preventDefault(),h.WebkitHack.prevent())):this.cancel()},this.update=function(t,e){this.swipe||this.start(t,e),this.isValidMouseButton(t,this.options.which)&&!this.hasMoreTouches(e.pagePoints)?(this.hasEqualTouches(e.pagePoints)&&(this.setSwipe(e.pagePoints[0]),e.swipe=this.swipe,!this.started&&this.swipe.startPoint.distanceTo(this.swipe.currentPoint)>=this.options.radiusThreshold?(this.gestureHandler.cancelGestures(this.type),this.started=!0,this.binder.start.call(this,t,e)):this.started&&this.binder.update.call(this,t,e),this.swipe.startTime=this.swipe.currentTime),this.options.preventDefault&&(t.preventDefault(),h.WebkitHack.prevent())):this.cancel()},this.end=function(t,e){var i,n,s,o,r,a=this.options.inertia;this.started&&(this.options.useMomentum?(this.swipe.inEndMomentum=!0,i=new h.Point(this.swipe.curDeltaX,this.swipe.curDeltaY).normalize(),n=this.swipe.momentum,s=this,o=new h.Point(e.pagePoints[0].x,e.pagePoints[0].y),1<=a&&(a=this.defaults.inertia),r=function(){n*=a,s.swipe.inEndMomentum&&1<n?(o.x+=i.x*n,o.y+=i.y*n,e.pagePoints[0]=new h.Point(o.x,o.y),s.update(t,e),s.rAFId=window.requestAnimationFrame(r)):(s.rAFId=-1,s.binder.end.call(s,t,e))},this.rAFId=window.requestAnimationFrame(r)):this.binder.end.call(this,t,e)),this.options.preventDefault&&(t.preventDefault(),h.WebkitHack.prevent())},this.cancel=function(){-1!==this.rAFId&&(this.binder.end.call(this,event),window.cancelAnimationFrame(this.rAFId),this.rAFId=-1,h.preventGestures(this.gestureHandler),this.gestureHandler.cancelAllGestures(this)),this.cancelled||(this.cancelled=!0,this.started&&this.binder.cancel.call(this))},function(){t.apply(this,arguments)}});h.gestures.add("swipe",t)}(window.Touche,Math.abs),function(i){"use strict";var t=i.Gesture.augment(function(t){return this.defaults={areaThreshold:5,precedence:6,preventDefault:!0,touches:1,which:1},this.start=function(t,e){this.started=!0,this.rect=i.utils.getRect(this.gestureHandler.element),this.isValidMouseButton(t,this.options.which)&&!this.hasMoreTouches(e.pagePoints)?(this.binder.start.call(this,t,e),this.options.preventDefault&&(t.preventDefault(),i.WebkitHack.prevent())):this.cancel()},this.update=function(t,e){this.started&&(!this.hasMoreTouches(e.pagePoints)&&this.rect.pointInside(e.pagePoints[0],this.options.areaThreshold)?this.options.preventDefault&&(t.preventDefault(),i.WebkitHack.prevent()):this.cancel())},this.end=function(t,e){this.started&&(this.hasNotEqualTouches(e.pagePoints)||(this.rect.pointInside(e.pagePoints[0],this.options.areaThreshold)&&(this.gestureHandler.cancelGestures(this.type),this.binder.end.call(this,t,e)),this.options.preventDefault&&(t.preventDefault(),i.WebkitHack.prevent())))},this.cancel=function(t,e){this.cancelled=!0,this.binder.cancel.call(this,t,e)},function(){t.apply(this,arguments)}});i.gestures.add("tap",t)}(window.Touche);